!function(e,t){"use strict";var n=function(e,t){var n=e.find(".bdt-pieces-slider"),i=n.data("settings");n.length&&function(){var e,t,n,a=document.querySelector(i.id+" .pieces-slider__canvas"),r=[].slice.call(document.querySelectorAll(i.id+" .pieces-slider__image")),o=[].slice.call(document.querySelectorAll(i.id+" .pieces-slider__text")),s=r.length,d=0;function u(){t=(e=3*d)+1,n=e+2}u();for(var c,l=[],p=[],m=window.innerWidth,f={angle:45,extraSpacing:{extraX:100,extraY:200},piecesWidth:function(){return Pieces.random(50,200)},ty:function(){return Pieces.random(-400,400)}},g={color:i.title.color||"#fff",backgroundColor:i.title.background||"#556068",backgroundRadius:i.title.backgroundRadius||0,fontSize:function(){var e=i.title.fontSizeDesktop||50,t=i.title.fontSizeTablet||30;return m>768?e:t},fontFamily:[i.title.fontFamily]||["'Open Sans', sans-serif"],padding:`${i.title.padding.top||15} ${i.title.padding.right||20} ${i.title.padding.bottom||10} ${i.title.padding.left||20}`,angle:-45,piecesSpacing:2,extraSpacing:{extraX:0,extraY:300},piecesWidth:function(){return Pieces.random(50,200)},ty:function(){return Pieces.random(-200,200)},translate:function(){return m>1120?{translateX:200,translateY:200}:m>768?{translateX:0,translateY:200}:{translateX:0,translateY:100}}},v={color:i.number.color||"#fff",backgroundColor:i.number.background||"#556068",backgroundRadius:i.number.backgroundRadius||0,fontSize:function(){var e=i.number.fontSizeDesktop||50,t=i.number.fontSizeTablet||30;return m>768?e:t},fontFamily:[i.number.fontFamily]||["'Open Sans', sans-serif"],padding:`${i.number.padding.top||18} ${i.number.padding.right||25} ${i.number.padding.bottom||10} ${i.number.padding.left||30}`,angle:0,piecesSpacing:2,extraSpacing:{extraX:10,extraY:10},piecesWidth:35,ty:function(){return Pieces.random(-200,200)},translate:function(){return m>1120?{translateX:-340,translateY:-180}:m>768?{translateX:-240,translateY:-180}:{translateX:-140,translateY:-100}}},y=[],b=0,h=0;h<s;h++){var S=new Image;S.onload=function(){++b==s&&(_(),k())},y.push({type:"image",value:r[h],options:f}),y.push({type:"text",value:o[h].innerText,options:g}),y.push({type:"text",value:h+1,options:v}),l.push(3*h+1),p.push(3*h+2),S.src=r[h].src}function _(){c&&c.stop(),(c=new Pieces({canvas:a,items:y,x:"centerAll",y:"centerAll",piecesSpacing:1,animation:{duration:function(){return Pieces.random(1e3,2e3)},easing:"easeOutQuint"}})).animateItems({items:p,duration:2e4,angle:360,loop:!0}),w()}function k(){document.querySelector(i.id+" .pieces-slider__button--prev").addEventListener("click",P),document.querySelector(i.id+" .pieces-slider__button--next").addEventListener("click",X),document.addEventListener("keydown",(function(e){37==e.keyCode?P():39==e.keyCode&&X()})),window.addEventListener("resize",T)}function w(){c.showPieces({items:e,ignore:["tx"],singly:!0,update:e=>{if(e.progress>60){var t=e.animatables[0].target,n=t.ty;anime.remove(t),anime({targets:t,ty:t.h_ty<300?[{value:n+10,duration:1e3},{value:n-10,duration:2e3},{value:n,duration:1e3}]:[{value:n-10,duration:1e3},{value:n+10,duration:2e3},{value:n,duration:1e3}],duration:2e3,easing:"linear",loop:!0})}}}),c.showPieces({items:t}),c.showPieces({items:n,ty:function(e,t){return e.s_ty-[-3,3][t%2]}})}function x(){c.hidePieces({items:[e,t,n]})}function P(){x(),d=d>0?d-1:s-1,u(),w()}function X(){x(),d=d<s-1?d+1:0,u(),w()}var Y,$,z=!0;function T(){z&&(z=!1,Y&&clearTimeout(Y),a.classList.add("pieces-slider__canvas--hidden")),$&&clearTimeout($),$=setTimeout(F,300)}function F(){z=!0,m=window.innerWidth,_(),Y=setTimeout((()=>{a.classList.remove("pieces-slider__canvas--hidden")}),500)}}()};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/prime-slider-pieces.default",n)}))}(jQuery,window.elementorFrontend);