!function(e,t){"use strict";var i=function(e,t){const i=(e,t,i,s,n)=>{var l=(e-t)/(i-s);return l*n+(t-l*s)},s=(e,t,i)=>(1-i)*e+i*t,n=(e,t,i,s)=>{var n=e-t,l=i-s;return Math.hypot(n,l)},l=(e,t)=>Math.floor(Math.random()*(t-e+1)+e);let a;const r=()=>a={width:window.innerWidth,height:window.innerHeight};r(),window.addEventListener("resize",r);let h={x:a.width/2,y:a.height/2};window.addEventListener("mousemove",(e=>h=(e=>{let t=0,i=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+body.scrollLeft+docEl.scrollLeft,i=e.clientY+body.scrollTop+docEl.scrollTop),{x:t,y:i}})(e)));class o{constructor(e,t){this.DOM={el:e},this.DOM.title=t,charming(this.DOM.title),this.DOM.titleLetters=[...this.DOM.title.querySelectorAll("span")],this.DOM.titleLetters.sort((()=>Math.round(Math.random())-.5)),this.DOM.number=this.DOM.el.querySelector(".number"),this.DOM.subtitle=this.DOM.el.querySelector(".caption"),this.DOM.imgWrap=this.DOM.el.querySelector(".img-wrap"),this.DOM.img=this.DOM.imgWrap.querySelector(".img")}move(e,t){return new Promise(((i,s)=>{const n="left"===e?"+="+-1*t:"+="+t,l=1.2;new TimelineMax({onComplete:i}).to(this.DOM.imgWrap,l,{x:n,ease:Quart.easeInOut},0).to(this.DOM.imgWrap,.6,{scaleX:1.3,ease:Quart.easeIn},0).to(this.DOM.imgWrap,.6,{scaleX:1,ease:Quart.easeOut},.6).to(this.DOM.number,1.14,{x:n,ease:Quint.easeInOut},0).to(this.DOM.subtitle,1.32,{x:n,ease:Quart.easeInOut},0).to(this.DOM.title,1.26,{x:n,ease:Quart.easeInOut},0)}))}setCenter(){this.isCenter=!0,this.DOM.el.classList.add("grid__item--center"),this.DOM.title.classList.add("grid__item--center"),TweenMax.set([this.DOM.el,this.DOM.title],{opacity:1})}setRight(){this.isRight=this.isCenter=!1,this.isLeft=!0,this.DOM.el.classList.add("grid__item--right"),this.DOM.title.classList.add("grid__item--right"),TweenMax.set([this.DOM.el,this.DOM.title],{opacity:1})}setLeft(){this.isLeft=this.isCenter=!1,this.isRight=!0,this.DOM.el.classList.add("grid__item--left"),this.DOM.title.classList.add("grid__item--left"),TweenMax.set([this.DOM.el,this.DOM.title],{opacity:1})}reset(){TweenMax.set([this.DOM.el,this.DOM.imgWrap,this.DOM.number,this.DOM.subtitle,this.DOM.title],{transform:"none"}),TweenMax.set([this.DOM.el,this.DOM.title],{opacity:0}),this.DOM.title.classList="grid__item grid__item--title",this.DOM.el.classList="grid__item grid__item--slide"}animateElementsOut(e){return new Promise(((t,i)=>{const s=l(0,100)/500;if(this.elemsTimeline=new TimelineMax({onComplete:t}).staggerTo(this.DOM.titleLetters,1,{y:l(300,600),opacity:0,ease:Quart.easeInOut},.04,s).staggerTo(this.DOM.titleLetters,.5,{scaleY:2.2,ease:Quart.easeIn},.04,s).staggerTo(this.DOM.titleLetters,.5,{scaleY:1,ease:Quart.easeOut},.04,s+.5).to(this.DOM.number,1,{y:-500,opacity:0,ease:Quart.easeInOut},s+.3).to(this.DOM.imgWrap,.8,{y:-500,opacity:0,ease:Quart.easeInOut},s+.4).to(this.DOM.imgWrap,.4,{scaleX:.95,scaleY:1.4,ease:Quart.easeIn},s+.4).to(this.DOM.imgWrap,.4,{scaleX:1,scaleY:1,ease:Quart.easeOut},s+.4+.4).to(this.DOM.subtitle,1,{y:-500,opacity:0,ease:Quart.easeInOut},s+.5),this.isCenter){const t=e.querySelector(".content__item-header-title"),i=e.querySelector(".img--content");this.elemsTimeline.to(t,.8,{ease:Expo.easeOut,startAt:{y:"100%",opacity:0,rotation:-16},y:"0%",rotation:0,opacity:1},s+1.3).set(i,{scale:1.2},0).to(i,.8,{ease:Expo.easeOut,scale:1},s+1.3).to(u.DOM.el,1,{ease:Quint.easeOut,y:"-100%"},s+1.2)}}))}animateElementsIn(e){return new Promise(((t,i)=>{const s=l(0,50)/500;if(this.elemsTimeline=new TimelineMax({onComplete:t}),this.isCenter){const t=e.querySelector(".content__item-header-title"),i=e.querySelector(".img--content");this.elemsTimeline.to(t,1,{ease:Quint.easeOut,y:"50%",opacity:0},0).to(i,1,{ease:Quint.easeOut,scale:1.2},0).to(u.DOM.el,1,{ease:Quint.easeOut,y:"0%"},0)}this.elemsTimeline.to(this.DOM.subtitle,.8,{y:0,opacity:1,ease:Quart.easeOut},s).to(this.DOM.imgWrap,.8,{y:0,opacity:1,scaleX:1,scaleY:1,ease:Quart.easeOut},s+.1).to(this.DOM.number,.8,{y:0,opacity:1,ease:Quart.easeOut},s+.2).staggerTo(this.DOM.titleLetters,.8,{y:0,opacity:1,scaleX:1,scaleY:1,ease:Quart.easeOut},.03,s+.1)}))}}var c=e.find(".bdt-crossroad-slider"),d=c.data("settings");if(!c.length)return;const u=new class{constructor(e){this.DOM={el:e},this.DOM.el.style.width=`calc(100vw * ${Math.cos(8*Math.PI/180)} + 100vh * ${Math.sin(8*Math.PI/180)})`,this.DOM.el.style.height=`calc(100vw * ${Math.sin(8*Math.PI/180)} + 100vh * ${Math.cos(8*Math.PI/180)})`}}(document.querySelector(d.id+" .revealer__inner"));new class{constructor(e,t){if(this.DOM={el:e},this.elementID=t,this.DOM.titlesWrap=this.DOM.el.querySelector(t+" .titles-wrap"),this.DOM.titlesInner=this.DOM.titlesWrap.querySelector(t+" .grid--titles"),this.DOM.titles=[...this.DOM.titlesInner.querySelectorAll(t+" .grid__item--title")],this.slides=[],[...this.DOM.el.querySelectorAll(t+" .grid__item--slide")].forEach(((e,t)=>this.slides.push(new o(e,this.DOM.titles[t])))),this.slidesTotal=this.slides.length,this.slidesTotal<4)return;this.center=0,this.DOM.contentItems=[...document.querySelectorAll(t+" .content__item")],this.DOM.interaction={left:document.querySelector(t+" .grid__item--left"),center:document.querySelector(t+" .grid__item--center"),right:document.querySelector(t+" .grid__item--right")},this.setVisibleSlides(),this.calculateGap(),this.initEvents();let n={translation:0,rotation:-8};const l=()=>{n.translation=s(n.translation,i(-15,15,a.width,0,h.x),.03);for(let e=0;e<=this.slidesTotal-1;++e)TweenMax.set(this.slides[e].DOM.img,{x:n.translation}),TweenMax.set(this.DOM.titlesInner,{x:-4*n.translation});requestAnimationFrame(l)};requestAnimationFrame(l)}setVisibleSlides(){this.centerSlide=this.slides[this.center],this.rightSlide=this.slides[this.center+1<=this.slidesTotal-1?this.center+1:0],this.leftSlide=this.slides[this.center-1>=0?this.center-1:this.slidesTotal-1],this.centerSlide.setCenter(),this.rightSlide.setRight(),this.leftSlide.setLeft()}calculateGap(){const e=this.center===this.slidesTotal-1?this.center-1:this.center,t=this.slides[e].DOM.el.getBoundingClientRect(),i=this.slides[e+1].DOM.el.getBoundingClientRect();this.gap=n(t.left+t.width/2,i.left+i.width/2,t.top+t.height/2,i.top+i.height/2)}initEvents(){this.clickRightFn=()=>this.navigate("right"),this.DOM.interaction.right.addEventListener("click",this.clickRightFn),this.clickLeftFn=()=>this.navigate("left"),this.DOM.interaction.left.addEventListener("click",this.clickLeftFn),this.clickCenterFn=()=>this.openSlide(),this.DOM.interaction.center.addEventListener("click",this.clickCenterFn),this.mouseenterCenterFn=()=>{this.isAnimating||(new TimelineMax).to(this.centerSlide.DOM.imgWrap,.7,{ease:Expo.easeOut,scale:1.02}).to(this.centerSlide.DOM.img,1.7,{ease:Expo.easeOut,scale:1.05},0)},this.DOM.interaction.center.addEventListener("mouseenter",this.mouseenterCenterFn),this.mouseleaveCenterFn=()=>{this.isAnimating||(new TimelineMax).to(this.centerSlide.DOM.imgWrap,.7,{ease:Expo.easeOut,scale:1}).to(this.centerSlide.DOM.img,.7,{ease:Expo.easeOut,scale:1},0)},this.DOM.interaction.center.addEventListener("mouseleave",this.mouseleaveCenterFn),this.resizeFn=()=>this.calculateGap(),window.addEventListener("resize",this.resizeFn),this.DOM.contentItems.forEach((e=>{e.querySelector(this.elementID+" .img-wrap--content").addEventListener("click",(()=>this.closeSlide()))}))}navigate(e){if(this.isAnimating)return!1;this.isAnimating=!0;const t="right"===e?this.center<this.slidesTotal-2?this.center+2:Math.abs(this.slidesTotal-2-this.center):this.center>=2?this.center-2:Math.abs(this.slidesTotal-2+this.center);this.center="right"===e?this.center<this.slidesTotal-1?this.center+1:0:this.center>0?this.center-1:this.slidesTotal-1,this.upcomingSlide=this.slides[t],this.upcomingTitle=this.upcomingSlide.DOM.title,TweenMax.set(this.upcomingSlide.DOM.el,{x:"right"===e?2*this.gap:-1*this.gap*2,opacity:1}),TweenMax.set(this.upcomingTitle,{x:"right"===e?2*this.gap:-1*this.gap*2,opacity:1});const i=[this.upcomingSlide,this.centerSlide,this.rightSlide,this.leftSlide];let s=[];i.forEach((t=>s.push(t.move("right"===e?"left":"right",this.gap)))),Promise.all(s).then((()=>{i.forEach((e=>e.reset())),this.setVisibleSlides(),this.isAnimating=!1}))}openSlide(){this.toggleSlide("open")}closeSlide(){this.toggleSlide("close")}toggleSlide(e){if(this.isAnimating)return;this.isAnimating=!0;const t=this.DOM.contentItems[this.center];this.DOM.el.classList["open"===e?"add":"remove"]("content-open");const i=[this.centerSlide,this.rightSlide,this.leftSlide];let s=[];i.forEach((i=>s.push(i["open"===e?"animateElementsOut":"animateElementsIn"](t)))),"open"===e&&t.classList.add("content__item--current"),Promise.all(s).then((()=>{"close"===e&&t.classList.remove("content__item--current"),this.isAnimating=!1}))}}(document.querySelector(d.id+" .grid--slideshow"),d.id)};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/prime-slider-crossroad.default",i)}))}(jQuery,window.elementorFrontend);