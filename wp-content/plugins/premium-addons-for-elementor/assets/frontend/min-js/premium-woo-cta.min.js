!function(t){function a(t,n){var o=t.find(".premium-wrapper-woo-cta"),r=o.find(".premium-woo-cta-button"),a=o.find(".product-quantity"),s=o.find(".grouped_product_qty"),e=o.find(".quantity-button.minus"),i=o.find(".quantity-button.plus"),d=r.data("redirect-to-cart");e.on("click",function(){var t=parseInt(a.val());!isNaN(t)&&1<t&&a.val(t-1)}),i.on("click",function(){var t=parseInt(a.val());isNaN(t)||a.val(t+1)});var u=o.find(".quantity-button.g-plus"),c=o.find(".quantity-button.g-minus");u.each(function(){n(this).on("click",function(){var t=n(this).closest(".quantity-grouped-wrapper").find(".grouped_product_qty"),a=parseInt(t.val());isNaN(a)||t.val(a+1)})}),c.each(function(){n(this).on("click",function(){var t=n(this).closest(".quantity-grouped-wrapper").find(".grouped_product_qty"),a=parseInt(t.val());!isNaN(a)&&1<a&&t.val(a-1)})});var m=r.find(".premium-woo-btn-text"),l=r.attr("data-wishlist-remove-text"),p=r.attr("data-wishlist-button-text"),v=r.attr("data-compare-remove-text"),_=r.attr("data-compare-button-text"),f=r.attr("data-product-type");if("yes"===r.attr("data-icon-visible")){var h=r.find(".premium-woo-btn-icon");r.find(".premium-woo-btn-text").text().trim()===l?h.hide():(h.show(),r.remove(".premium-woo-icon-hidden"))}"external"!==f?r.on("click",function(t){t.preventDefault();var a,e=n(this).attr("data-product-id"),i=n(this).siblings(".premium-woo-cta__spinner");switch(wishlist_message=n(this).attr("data-product-added"),quantity=o.find(".product-quantity").val(),attributes={},quantities={},i.addClass("loader-visible").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>'),$messageBox=o.find(".premium-cta-message-box"),$messageBox.remove(),s.each(function(){var t=n(this).attr("name").match(/\d+/)[0];quantity=parseInt(n(this).val(),10),0<quantity&&!isNaN(quantity)&&(quantities[t]=quantity)}),o.find(".product-attribute").each(function(){var t=n(this).data("attribute_name");attrValue=n(this).val(),attrValue&&(attributes[t]=attrValue)}),n(this).attr("data-actions")){case"add_to_wishlist":a="custom_add_to_wishlist";break;case"add_to_compare":a="custom_add_to_compare";break;default:a="custom_add_to_cart"}n.ajax({url:PremiumWooSettings.ajaxurl,dataType:"JSON",type:"POST",data:{action:"handle_pa_woo_cta_actions",ajaxAction:a,product_id:e,quantity:quantity,grouped_product_qty:quantities,attributes:attributes,security:PremiumWooSettings.cta_nonce},success:function(t){t.success?(i.removeClass("loader-visible").find(".premium-loading-feed").remove(),"custom_add_to_wishlist"===a?!0===t.data.in_wishlist?(m.text(l),h.hide(),r.after('<div class="pro-wish">'+wishlist_message+"</div>")):(m.text(p),h.show(),$add_message=r.siblings(".pro-wish"),$add_message.remove()):"custom_add_to_compare"===a?!0===t.data.in_compare?m.text(v):m.text(_):"yes"===d?window.location.href=t.data.cart_url:(r.siblings(".view-cart-button").remove(),r.after('<a href="'+t.data.cart_url+'" target="_blank" class="view-cart-button" style="margin-left: 10px;">'+PremiumWooSettings.view_cart+"</a>"))):(i.removeClass("loader-visible").find(".premium-loading-feed").remove(),t.data.qty_message&&o.append('<div class="premium-cta-message-box">'+t.data.qty_message+"</div>"))}})}):r.on("click",function(t){var a=r.attr("data-external-url");a&&(t.preventDefault(),window.location.href=a)})}t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-woo-cta.default",a)})}(jQuery);